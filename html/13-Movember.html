<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/13-Movember.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <meta charset="UTF-8">
  <title>Catalogue de bières</title>
</head>
<body>
	<nav class="navbar bg-body-tertiary">
		<div class="container-fluid">
		  <a class="navbar-brand" href="/html/index.html"><</a>
		  <div class="mx-auto">
		<h1 class="text-center" id="beerName"></h1>
		</div>
	  </nav>
	  <div class="container">
		<div class="row">
			<div class="col">
				<div class="container">
					<div class="row">
						<div class="col">
							<img src="https://images.punkapi.com/v2/13.png" style="width: 100px; height: 300px;" alt=imageMovember" id="beerImg">
						</div>
						<div class="col mt-5">
							<p id="first_brewed"></p>
							<p id="ph"></p>
							<ul class="list-group" id="food_pairing">
								Food pairing :
							  </ul>
							  <br>
							  <p><input type="checkbox"> Déjà bu ?</p> 
						</div>
						<p id="tagline">Moustache-Worthy Beer.</p>
						<div class="rating">
							<input type="checkbox" id="star5" name="rating" value="5">
							<label for="star5"></label>
							<input type="checkbox" id="star4" name="rating" value="4">
							<label for="star4"></label>
							<input type="checkbox" id="star3" name="rating" value="3">
							<label for="star3"></label>
							<input type="checkbox" id="star2" name="rating" value="2">
							<label for="star2"></label>
							<input type="checkbox" id="star1" name="rating" value="1">
							<label for="star1"></label>
						</div>
						<p id="description"></p>
						<p id="brewersTips"></p>
						<p id="contribute"></p>
					</div>
				</div>

			</div>
			<div class="col d-flex flex-column justify-content-between">
				<table class="table table-striped table-bordered text-center">
					<thead>
						<tr>
							<th scope="col">Malt</th>
							<th scope="col"></th>
							<th scope="col"></th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td></td>
							<td>name</td>
							<td>amount</td>
						</tr>
						<tr>
							<td>hops</td>
							<td id="hopsName"></td>
							<td id="hopsAmount"></td>
						</tr>
						<tr>
							<td></td>
							<td>name</td>
							<td>amount</td>
						</tr>
						<tr>
							<td>yeast</td>
							<td id="yeastName"></td>
							<td id="yeastAmount"></td>
						</tr>
						<tr>
							<td></td>
							<td>name</td>
							<td>amount</td>
						</tr>
					</tbody>
				</table>

				  <div class="form-floating">
					<textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 100px"></textarea>
					<label for="floatingTextarea2"></label>
				  </div>
			</div>
		</div>
	</div>
	<div class="d-flex justify-content-center mt-5 gap-3">
		<button type="button" class="btn btn-secondary">Précédent</button>
		<button type="button" class="btn btn-primary">Suivant</button>

	</div>
	  <footer class="footer mx-auto py-3 bg-dark-subtle mt-5">
        <div class="container text-center">
            <span class="text-body-secondary">Quentin Le Goff - FIL A1.</span>
        </div>
    </footer>
  </body>
  
  <script>
    async function getBeerData() {
    const response = await fetch("https://api.punkapi.com/v2/beers/13");
    const beerData = await response.json();

    if (beerData && beerData.length > 0) {
        const beer = beerData[0];
        console.log(beerData);
        console.log(beer.name);
		document.getElementById('beerName').innerHTML = beerData[0].name;
        document.getElementById('tagline').innerHTML = beer.tagline;
        document.getElementById('beerImg').src = beer.image_url;
        document.getElementById('description').innerHTML = beer.description;
        document.getElementById('first_brewed').innerHTML = "First brewed: " + beer.first_brewed;
        document.getElementById('ph').innerHTML = "PH: " + beer.ph;
		document.getElementById('hopsName').innerHTML = beer.ingredients.hops[0].name;
        document.getElementById('hopsAmount').innerHTML = beer.ingredients.hops[0].amount.value + ' ' + beer.ingredients.hops[0].amount.unit;
        document.getElementById('yeastName').innerHTML = beer.ingredients.yeast.name;
		document.getElementById('brewersTips').innerHTML = beer.brewers_tips;
		document.getElementById('contribute').innerHTML = beer.contributed_by;
		let food_pairing = document.getElementById('food_pairing');
            beerData[0].food_pairing.forEach((item) => {
                var li = document.createElement("li");
                li.appendChild(document.createTextNode(item));
                food_pairing.appendChild(li);
            });
			const maltTable = document.querySelector('#maltTable tbody');

			beer.ingredients.malt.forEach((malt) => {
				const row = maltTable.insertRow();
				const cell1 = row.insertCell(0);
				const cell2 = row.insertCell(1);
				const cell3 = row.insertCell(2);

				cell1.innerHTML = malt.name;
				cell2.innerHTML = malt.amount.value + ' ' + malt.amount.unit;
				cell3.innerHTML = ''; 
			});    }
}
    getBeerData()

</script>
  </html>

  